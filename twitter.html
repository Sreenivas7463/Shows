<!DOCTYPE html>
<html lang="en">

<head>
    <title>Twitter Video</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.plyr.io/3.7.8/plyr.css" rel="stylesheet">

</head>

<body>

    <div class="container-fluid p-5 bg-primary text-white text-center">
        <h1>My First Bootstrap Page</h1>
        <p>Resize this responsive page to see the effect!</p>
    </div>

    <div class="container my-5">
        <div class="row">
            <div class="col-md-8 mx-auto">
                <h3 class="text-center my-1" id="titled">Video Player</h3>
                <video controls crossorigin playsinline poster="" id="player">
                    <!-- Video files -->
                    <source src="" type="video/mp4">


                    <!-- Caption files -->
                    <!-- <track kind="captions" label="English" srclang="en"
                        src="https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.en.vtt" default>-->



                </video>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', () => {

            var urlv = window.location.hash.substr(1);

            const urla = urlv.split("&");
            var vidid = urla[0];
            var vididv = urla[1];
            var title = urla[2];
            var size = urla[3];

            if (urla[4] == 'a') {
                var xy = 'amplify_video';
                var za = 'vid/avc1';
            } else if (urla[4] == 'e') {
                var xy = 'ext_tw_video';
                var za = 'pu/vid/avc1';
            }
            alert('https://video.twimg.com/' + xy + '/' + vidid + '/' + za + '/' + size + '/' + vididv + '.mp4');
            alert('https://pbs.twimg.com/' + xy + '/' + vidid + '/img/' + vididv + '.jpg');
            document.getElementById('titled').innerHTML = 'Twitter - ' + decodeURI(title);
            // This is the bare minimum JavaScript. You can opt to pass no arguments to setup.
            const player = new Plyr('#player', {
                loop: { active: true }, // Enable looping from the start
            });

            player.source = {

                type: 'video',
                sources: [
                    {
                        src: 'https://video.twimg.com/' + xy + '/' + vidid + '/' + za + '/' + size + '/' + vididv + '.mp4',
                        type: 'video/mp4',
                    },
                ],
                poster: 'https://pbs.twimg.com/' + xy + '/' + vidid + '/img/' + vididv + '.jpg',
            };


        });
    </script>
</body>

</html>